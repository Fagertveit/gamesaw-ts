<!DOCTYPE html>
<html>
<head>
    <title>GameSaw Game Library</title>
    <script src="../../dist/gamesaw.js"></script>
    <style>
        .container {
            width: 640px;
            margin: 10px auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>GameSaw Game Library</h1>
        <div id="gamesaw-container">

        </div>
    </div>

<script>
    var app = new gamesaw.Application(640, 480, 30);
    var testScene = app.sceneManager.addScene('test');
    testScene.add3dSurface('test');
    var ctx = testScene.getContext('test');
    ctx.clearColor(0, 0, 0, 1);

    var fontRenderer = new gamesaw.GL.Font.FontRenderer(ctx);
    var font = new gamesaw.GL.Font.Font(ctx, 'default.xml');
    /*
    var renderer = new gamesaw.GL.Render2d.Renderer2d(ctx);
    var texture = new gamesaw.GL.Texture(ctx, '../img/pixel.png');
    var sprite = new gamesaw.GL.Sprite(texture, 64, 64);
    var scale = 1.0;
    var angle = 0;
    var scaleUp = true;
    sprite.setUV(0.0, 0.0, 1.0, 1.0);

    var particleRenderer = new gamesaw.GL.Particle.ParticleRenderer(ctx);
    var particle = new gamesaw.GL.Texture(ctx, '../img/alpha_particle.png');
    var emitter = new gamesaw.GL.Particle.ParticleEmitter(ctx);

    emitter.setup(
        particle,
        new gamesaw.Geometry.Point(320, 240),
        new gamesaw.Geometry.Point(-0.3, -0.8), new gamesaw.Geometry.Point(0.3, -0.7),
        10.0, 6.4,
        32, 16,
        2000, 800,
        0.2,
        0.0,
        0.0,
        0.0,
        0,
        1000,
        0,
        true,
        new gamesaw.Graphics.Color(240, 175, 25, 0.4)
    );
    */
    testScene.render = function(delta) {
        this.clear('test');
        //if (texture.ready) {
            /*
            for (var i = 0; i < 1000; i++) {
                var x = Math.random() * 640;
                var y = Math.random() * 480;

                sprite.render(renderer, x, y);
            }*/
            //sprite.renderAngleScale(renderer, 300, 200, angle, scale);

            //sprite.renderScale(renderer, 400, 100, scale);
        //}
        //renderer.execute();

        //particleRenderer.render(emitter);

        font.drawString(fontRenderer, "Detta är en sträng", 100, 100);
        fontRenderer.execute();
    };
    testScene.update = function(delta) {
        /*angle += 5;
        if (scale > 5 && scaleUp) {
            scaleUp = false;
        }

        if (scale < 0.2 && !scaleUp) {
            scaleUp = true;
        }

        if (scaleUp) {
            scale += 0.2;
        } else {
            scale -= 0.2;
        }*/

        //emitter.update(delta);
    };

    app.init();
</script>
</body>
</html>
